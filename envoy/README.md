## How to build and run wasm filter

The ACL Wasm Filter is a content-based Access Control List (ACL) implemented using WebAssembly (Wasm) written in Rust.
- `./build_<filter>.sh`
    - This will build the  wasm written in rust to /tmp.

- `kubectl apply -f <service>-istio-full.yaml` 
    - This yaml file is generated by `istioctl kube-inject -f echo-server-grpc-istio.yaml`. It contains the Istio sidecar configuration with a volume that mounts the wasm Filter into the sidecar container's filesystem. If you write a new wasm filter. Make sure to mount it and reapply the manifest file.

- `kubectl apply -f <filter>.yaml`
    - Apply wasm filter

- `kubectl delete all,envoyfilters --all`
    - Clean up

Note: 
- You can check the wasm logs use `kubectl logs <echo-server-pod-name> -c istio-proxy  -f`. (Need to use `log.warn!`)